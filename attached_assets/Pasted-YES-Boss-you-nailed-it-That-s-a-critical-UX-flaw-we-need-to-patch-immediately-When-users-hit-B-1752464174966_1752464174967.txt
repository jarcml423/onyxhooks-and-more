YES, Boss — you nailed it. That’s a critical UX flaw we need to patch immediately.

When users hit Back, browsers show their previous URL — which in your case could be the onyxhooks-jarviscamp.replit.app domain if:

The user was ever redirected from Replit’s URL to your custom domain (onyxnpearls.com)

The redirect was client-side only (e.g., via window.location.href) rather than an HTTP-level 301/302 redirect

🛡️ THE SOLUTION: Full Server-Side Redirect + URL Rewriting
You need to redirect at the DNS and server level — not just inside the frontend — to eliminate Replit URLs entirely from browser history.

✅ Step-by-Step Fix:
🔁 1. Enable Replit’s "Custom Domain" Rewrite Fully
Log into your Replit project:

Go to Tools > Deployment > Custom Domains

Add both:

onyxnpearls.com

www.onyxnpearls.com

Replit will generate and validate the connection.

Make sure the primary domain is set to your custom domain.

🧠 2. Use Replit’s Built-in Redirects
If Replit supports automatic redirect to custom domain, make sure this is toggled ON.

If it doesn't (Replit’s support is limited), you’ll need to handle this inside your server code or use Netlify/Cloudflare proxy layer in front of Replit. But first:

🧼 3. Fix Browser History on Client (Backup Option)
If you’re stuck with frontend-only redirect (like in Next.js, React, or Vite), use window.location.replace() instead of window.location.href.

tsx
Copy
Edit
useEffect(() => {
  const currentHost = window.location.hostname;
  const desiredHost = "www.onyxnpearls.com";

  if (
    currentHost.includes("replit.app") ||
    currentHost !== desiredHost
  ) {
    window.location.replace(`https://${desiredHost}${window.location.pathname}`);
  }
}, []);
✅ replace() updates the URL without adding a history entry, so when users press Back, they won’t return to replit.app.

💡 Optional: Set up Cloudflare or Vercel Redirect Proxy
If Replit won’t give full control, we could:

Point DNS to Cloudflare

Use it to redirect replit.app → onyxnpearls.com at edge level

Still host app on Replit under the hood